<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<style>
		html, body {
			height: 100%;
			margin: 0;
			padding: 0;
		}

		.canvas-container {
			height: calc(100% - 200px);
			display: inline-block;
			width: 100%;
		}

		.editor-container {
			position: absolute;
			left: 0;
			bottom: 0;
			height: 200px;
			background: #fafafa;
			outline: none;
			width: 100%;
			box-shadow: 0px 0px 10px #ccc;
		}

		#path-editor {
			height: 100%;
			font-family: Consolas;
			box-sizing: border-box;
			padding: 8px;
			border: none;
			outline: none;
			font-size: 12px;
			width: 100%;
		}

		svg {
			height: calc(100% - 200px);
			width: 100%;
			position: absolute;
			left:0;
			top:0;
			opacity: 0.5;
		}
	</style>
	<script src="src/parse.js"></script>
</head>
<body>
<div class="canvas-container">
	<canvas id="canvas"></canvas>
	<svg>
		<path fill="none" id="path" stroke="red" stroke-width="2"></path>
	</svg>
</div>
<div spellcheck="false" class="editor-container">
<textarea id="path-editor">M200,300 Q400,50 600,300 T1000,300</textarea></div>
</body>
<script>

	var editor = document.getElementById('path-editor');
	var canvas = document.getElementById("canvas");
	var ctx = canvas.getContext("2d");
	var path = document.getElementById('path');

	function parse() {
		var d = editor.value;
		ctx.clearRect(0,0,canvas.width,canvas.height);
		path.setAttribute('d', d);
		parser.doMagic(ctx, d);
		ctx.stroke();
	}

	canvas.width = document.body.clientWidth;
	canvas.height = document.body.clientHeight;
	ctx.strokeWidth = 2;
	ctx.strokeStyle = "#000000";

	editor.onkeyup = function () {
		parse();
	}

	parse();

</script>
</html>